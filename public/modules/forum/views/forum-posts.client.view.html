<section data-ng-controller="forumsPostsController" data-ng-init="findOne()">
	<div class="row">
		<div class="col-md-5">
			<h2>{{forum.name}}</h2>
			<p>{{forum.description}}</p>
        </div>
    </div>
    <div class="row">
    	<form class="add-post" name="newPost" ng-submit="post()" novalidate>
			<div class="col-md-7">
				<textarea rows="2" class="col-md-5" id="newPost.text" ng-model="newPost.text" placeholder="Enter text..." required ></textarea>
				<button type="submit" class="btn btn-default">comment</button>
			</div>
		</form>
    </div>
    <br />
		<script type="text/ng-template"  id="tree_item_renderer.html">
		  <ul>
        <li ng-repeat="comment in post.posts" ng-include="'tree_item_renderer.html'">
					<div class="row">
						<span class="col-md-2">{{comment.timestamp | date:'short'}}</span>
						<p class="col-md-2">{{comment.text}}</p>
						<button ng-click="add(comment)" >Add Comment</button>
					</div>
					<br />
				</li>
			</ul>
		</script>

    <ul class="forum-list">
    	<li class="review-list-item" data-ng-repeat="post in forum.posts" ng-include="'tree_item_renderer.html'">
    		<div class="row">
					<span class="col-md-2">{{post.timestamp | date:'short'}}</span>
					<p class="col-md-2">{{post.text}}</p>
				</div>
				<br />
			</li>
    </ul>
    <br />
    <br />
    <br />
</section>
